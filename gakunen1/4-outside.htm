<html>

<head>
<style type="text/css">
@font-face {font-family: Choumei; src: url(https://raw.githubusercontent.com/ninep9up/sidequest/gh-pages/assets/Choumei.woff2); font-weight: 200; font-style: normal}
	
body{background-color: #bdbdbd; font-family: 'Choumei'; color: #413635; text-align: center; transition: all 0.5s}
rt{ruby-align: center; font-size:1.7vh; color: #5d5d5d; margin-bottom: -0.7vh; -webkit-text-stroke: 0.1vh}
body.green{color: #325a23; background-color: #b0bd93}
body.red{color: #7d3326; background-color: #bdb093}
.tails{display:none !important}
.untails{display:contents !important}
a {color: #325a23; text-decoration: none}
.tip:hover{opacity: 0.75 !important}
</style>
</head>

<body>
<div id="romaji" class="tails" style="margin-top: 17.1vh; font-family: MS Mincho, serif; font-size:5.1vw; -webkit-text-stroke: 0.23vh currentcolor; letter-spacing: 0.15vw;"></div>
<div id="yomi" style="margin-top: 17.1vh; font-family: MS Mincho, serif; font-size:5.1vw; -webkit-text-stroke: 0.23vh currentcolor; letter-spacing: 0.15vw">きょういくかんじ</div><audio id="sound" src=''></audio>
<div id="kanj" style="margin-top: -1.25vw; color: #18181d; font-size:12.1vw; -webkit-text-stroke: 0.15vh currentcolor; letter-spacing: -1.1vw">教育漢字</div>
<div id="draw" style="margin-top: -0.81vw; min-height:2.4vh; font-size:2.4vh; -webkit-text-stroke: 0.11vh">⠀</div>
<div id="0" style="font-size:4.1vh; -webkit-text-stroke: 0.13vh; display:inline-block; padding-right:5%; padding-left:5%">Press ⇦⇨ to choose, ⇨ to advance, ⇩ to tangorin a word,</div>
<div id="1" style="font-size:4.1vh; -webkit-text-stroke: 0.13vh; display:inline-block; padding-right:5%; padding-left:5%">⇧ to romaji, hover lows for some random tips</div>
<div id="just" class="tip" style="padding-top: 61px; padding-bottom: 60px; opacity: 0.0"></div>
<div id="tip" class="tip" style="color: #18181d; -webkit-text-stroke: 0.1vh; font-size:3.1vh; opacity: 0.0">The 第1学年 corpus includes words starting with 80 Grade 1 kanjis and their occasional synonyms.<br> They were broken into 7 categories: <a href="https://ninep9up.github.io/sidequest/gakunen1/1-human.htm">1/7 Human and occupations</a>, <a href="https://ninep9up.github.io/sidequest/gakunen1/2-numbers.htm">2/7 Numbers</a>, <a href="https://ninep9up.github.io/sidequest/gakunen1/3-time.htm">3/7 Timely matters</a>,<br> <a href="https://ninep9up.github.io/sidequest/gakunen1/4-outside.htm" style="text-decoration:underline">4/7 Nature and places</a>, <a href="https://ninep9up.github.io/sidequest/gakunen1/5-abstract.htm">5/7 Abstract</a>, <a href="https://ninep9up.github.io/sidequest/gakunen1/6-verbs.htm">6/7 Verbs</a>, <a href="https://ninep9up.github.io/sidequest/gakunen1/7-common.htm">7/7 Common vocabulary</a>.

<script>function shuffle(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;}}


function setit(){if (chosen != 0 && i<w.length){
document.addEventListener('keydown', function(event){

var pressed = event.key; 
if (pressed === 'ArrowRight' && chosen != 0) {

current = w[i];
document.getElementById('romaji').textContent = romaji[current];
document.getElementById('yomi').textContent = yomi[current];
document.getElementById('kanj').textContent = kanj[current];

document.body.className = '';
document.getElementById('0').className = '';
document.getElementById('1').className = '';
document.getElementById('draw').textContent = '⠀';
console.log('Styles stripped');
	
tails=[0,1];
shuffle(tails); 

tip = tips[Math.floor(Math.random() * tips.length)];
document.getElementById('tip').innerHTML = tip;
document.getElementById(tails[0]).textContent = desu[current];
document.getElementById(tails[1]).textContent = janai[current]; console.log('Styles for step '+i+' are set'); kickit()
}});}

}

		
function kickit(){chosen = 0;

if(i==w.length){document.getElementById('0').textContent = ''; document.getElementById('tip').textContent = '';
for (i=0; i<w.length; i++){if (stat[i]!=""){document.getElementById('0').innerHTML+="　<ruby>"+stat[i]+"<rt>"+stat2[i]+"</rt></ruby>&nbsp;"+stat3[i]}};
document.getElementById('yomi').textContent = 'accuracy'; document.getElementById('romaji').textContent = 'accuracy';
document.getElementById('kanj').textContent = (parseFloat(right/w.length*100).toFixed(2))+'%';
document.getElementById('just').innerHTML = "<a href='https://paypal.me/9pgup'><img src='https://upload.wikimedia.org/wikipedia/commons/b/b7/PayPal_Logo_Icon_2014.svg' style='padding-top:8px' width='16px'></a>"}

if (chosen == 0 && i<w.length) {
	
	console.log('i='+i); var i2=i;
	
	document.getElementById('sound').src='http://assets.languagepod101.com/dictionary/japanese/audiomp3.php?kana='+yomi[w[i]]+'&kanji='+kanj[w[i]]; 
	console.log(sound); document.getElementById('sound').play();
	
	if (desu[current] == janai[current]){
	document.body.className = 'green'; chosen = 1; 
	document.getElementById('draw').textContent = "ｌｕｃｋｙ　ｄｒａｗ　";
	document.getElementById('draw').innerHTML += '<img src="daruma.png" height="20px">';
	right++; i++; setit();}else{
	
	var listener = function(event){
		var pressed2 = event.key; 
		
		if (pressed2 === 'ArrowUp') {temp = document.getElementById('romaji').className; 
		document.getElementById('romaji').className = document.getElementById('yomi').className;
		document.getElementById('yomi').className = temp;}
	
		if (pressed2 === 'ArrowDown'){window.open('https://tangorin.com/words?search='+yomi[w[i]])}
		
		if (pressed2 === 'ArrowLeft' && tails[0] == 0 && chosen != 1) {
		document.body.className = 'green'; document.getElementById('draw').textContent = "✔"; right++;
		document.getElementById('1').className = 'tails'; 
		i++; console.log('i='+i+' i2='+i2); document.removeEventListener('keydown', listener); if (i>i2) {chosen=1; console.log('is chosen '+chosen);}; }
		
		if (pressed2 === 'ArrowLeft' && tails[0] == 1 && chosen != 1) {
		document.body.className = 'red'; document.getElementById('draw').textContent = "🗙"; stat[i]=kanj[w[i]]; stat2[i]=yomi[w[i]]; stat3[i]=desu[w[i]];
		document.getElementById('0').className = 'tails'; 
		i++; console.log('i='+i+' i2='+i2); document.removeEventListener('keydown', listener); if (i>i2) {chosen=1; console.log('is chosen '+chosen);}; }
		
		if (pressed2 === 'ArrowRight' && tails[0] == 0 && chosen != 1) {
		document.body.className = 'red'; document.getElementById('draw').textContent = "🗙"; stat[i]=kanj[w[i]]; stat2[i]=yomi[w[i]]; stat3[i]=desu[w[i]];
		document.getElementById('1').className = 'tails'; 
		i++; console.log('i='+i+' i2='+i2); document.removeEventListener('keydown', listener); if (i>i2) {chosen=1; console.log('is chosen '+chosen);}; }
		
		if (pressed2 === 'ArrowRight' && tails[0] == 1 && chosen != 1) {
		document.body.className = 'green'; document.getElementById('draw').textContent = "✔"; right++;
		document.getElementById('0').className = 'tails'; 
		i++; console.log('i='+i+' i2='+i2); document.removeEventListener('keydown', listener); if (i>i2) {chosen=1; console.log('is chosen '+chosen);}; }}

	document.addEventListener('keydown', listener);
	}; 
	
	}
	
	
	
	setit();}

var kanj=["空気","竹","土手","天井","石炭","木綿","犬","土","火","火事","花","森","山羊","草","地所","林","天国","小屋","日本","土地","石灰","材木","玉蜀黍","山","石油","水溜り","雨","雨季","水田","田","川","学校","校","二階","貝","空","石","小川","町","木","村","水","天候","天気","木材","虫","子"];
var yomi=["くうき","たけ","どて","てんじょう","せきたん","もめん","いぬ","つち","ひ","かじ","はな","もり","やぎ","くさ","じしょ","はやし","てんごく","こや","にっぽん","とち","せっかい","ざいもく","とうもろこし","やま","せきゆ","みずたまり","あめ","うき","すいでん","た","かわ","がっこう","こう","にかい","かい","そら","いし","おがわ","まち","き","むら","みず","てんこう","てんき","もくざい","むし","こ"];
var romaji=["kūki","take","dote","tenjō","sekitan","momen","inu","tsuchi","hi","kaji","hana","mori","yagi","kusa","jisho","hayashi","tengoku","koya","nippon","tochi","sekkai","zaimoku","tōmorokoshi","yama","sekiyu","mizutamari","ame","uki","suiden","ta","kawa","gakkō","kō","nikai","kai","sora","ishi","ogawa","machi","ki","mura","mizu","tenkō","tenki","mokuzai","mushi","ko"];
var desu=["air","bamboo","bank","ceiling","coal","cotton","dog","earth","fire","fire incident","flower/blossom","forest","goat","grass","ground","grove","Heaven","hut","Japan","land","lime","lumber","maize","mountain","petroleum","pool","rain","rainy season","rice field","rice field","river","school","school building","second floor","shellfish","sky","stone","stream","town","tree","village","water","weather","weather","wood","worm/insect","young (animal)"];
var janai=["air","bamboo","bank","ceiling","coal","cotton","dog","earth","fire","fire incident","flower/blossom","forest","goat","grass","ground","grove","Heaven","hut","Japan","land","lime","lumber","maize","mountain","petroleum","pool","rain","rainy season","rice field","rice field","river","school","school building","second floor","shellfish","sky","stone","stream","town","tree","village","water","weather","weather","wood","worm/insect","young (animal)"]; shuffle(janai);
var stat=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];
var stat2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];
var stat3=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];
var w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]; shuffle(w); var i = 0;var tumblr = -1; var right = 0; var chosen = 1; var current; var tails=[0,1];

var tips=["Travel tip#1<br>Major attractions in Kyoto are old Buddhist temples (てら, the Japanese often call them おてら). <br>The five-story pagoda at Toji, the golden pavilion (きんかくきんかく) inside Rokuonji, and Kiyomizu-dera <br>with its famous balcony. Ryoanji is known for its rock garden, and Saionji for its moss garden.","Travel tip#2<br>A Japanese address is written in the reverse order of a Western address. It typically <br>begins with the prefecture, the city, the ward and/or town, the block and/or house number, <br>and ends with the addressee's name.","Travel tip#3<br>Shinto (神道神道) is the ancient native spiritual practice in Japan that emphasizes <br>the oneness with nature, the importance of purification of body and soul, and <br>the respect for ancestral spirits.","Travel tip#4<br>One of the most important Japanese signs, besides 入口入口 (entrance), 出口出口 (exit) <br>and 非常非常口口 (emergency exit), is 危険立入禁止危険立入禁止. 危険危険 means 'Danger' <br>and 立入禁止立入禁止 means 'Keep Out'.","Travel tip#5<br>こうばんこうばん (a neighborhood 'mini' police station) are safety hubs usually located <br>on the main streets or near train stations and marked with the golden emblem of a rising sun.","Travel tip#6<br>Some commuter trains and subways in Japan offer a 'ladies only' (女性専用車女性専用車) car <br>to protect women from sexual harassment. In many cases handicapped people and young <br>children are allowed to use these carsregardless of their gender.","Travel tip#7<br>In Tokyo in Tsukiji the world-largest fish market is located where tourists are allowed <br>to watch the lively tuna auctions in a designated area between 5 a.m. and 6:15 a.m. <br>Around the market, there are small restaurants and shops.","Travel tip#8<br>Tea (おちゃおちゃ) originally came to Japan from China around the 9th century. It wasn't green tea <br>(りょくちゃりょくちゃ) but the brown variety, Japanese still call brown ちゃいろちゃいろ ('the color of tea'). <br>In the 12th century, Zen priests who studied in China brought green tea to Japan.","Travel tip#9<br>Traditional alcoholic beverage in Japan is rice wine (さけさけ or おさけおさけ). A popular <br>alternative is しょうちゅうしょうちゅう, Japanese spirits often made of sweet potatoes, rice, <br>or wheat. The legal drinking age in Japan is twenty or older.","Travel tip#10<br>Less than a five-minute train ride from Tokyo Station, Akihabara Electric Town <br>offers a shopping paradise with stores selling new and used electronic devices <br>like cameras, phones, computers, and even robots."]; var tip;

setit();
	
</script>
</body>

</html>

